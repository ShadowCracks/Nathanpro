import{u as i,a as l,r as a,b as d,j as t}from"./index-C_XptwtU.js";const u=()=>{const o=i(),{user:n,checkAuth:c}=l();a.useEffect(()=>{n&&o("/course")},[n,o]),a.useEffect(()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,document.body.appendChild(e),e.onload=()=>{window.google.accounts.id.initialize({client_id:"677528453304-d6g313rhbfltmblikfcapqd61b0k2nhd.apps.googleusercontent.com",callback:r}),window.google.accounts.id.renderButton(document.getElementById("googleSignInButton"),{theme:"outline",size:"large",width:280})},()=>{document.body.removeChild(e)}},[]);const r=async e=>{try{(await d.post("https://nathanpro.onrender.com/api/auth/google",{token:e.credential})).data.success&&(await c(),o("/course"))}catch(s){console.error("Google sign-in error:",s),alert("Sign-in failed. Please try again.")}};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Sign in to Continue"}),t.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Please sign in with your Google account to purchase or access the course."}),t.jsx("div",{id:"googleSignInButton",className:"flex justify-center"})]})})};export{u as default};
